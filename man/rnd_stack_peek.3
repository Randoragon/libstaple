.TH RND_STACK_PEEK 3 DATE "librnd-VERSION"
.SH NAME
rnd_stack_peek - look up the top element of a stack
.SH SYNOPSIS
.ad l
#include <rnd.h>
.sp
int
.BR rnd_stack_peek "(const struct rnd_stack"
.RI * stack ,
void
.RI * output )
.br
char
.BR rnd_stack_peekc "(const struct rnd_stack"
.RI * stack )
.br
short
.BR rnd_stack_peeks "(const struct rnd_stack"
.RI * stack )
.br
int
.BR rnd_stack_peeki "(const struct rnd_stack"
.RI * stack )
.br
long
.BR rnd_stack_peekl "(const struct rnd_stack"
.RI * stack )
.br
signed char
.BR rnd_stack_peeksc "(const struct rnd_stack"
.RI * stack )
.br
unsigned char
.BR rnd_stack_peekuc "(const struct rnd_stack"
.RI * stack )
.br
unsigned short
.BR rnd_stack_peekus "(const struct rnd_stack"
.RI * stack )
.br
unsigned int
.BR rnd_stack_peekui "(const struct rnd_stack"
.RI * stack )
.br
unsigned long
.BR rnd_stack_peekul "(const struct rnd_stack"
.RI * stack )
.br
float
.BR rnd_stack_peekf "(const struct rnd_stack"
.RI * stack )
.br
double
.BR rnd_stack_peekd "(const struct rnd_stack"
.RI * stack )
.br
long double
.BR rnd_stack_peekld "(const struct rnd_stack"
.RI * stack )
.ad
.SH DESCRIPTION
The functions in the
.BR rnd_stack_peek ()
family are used to peek at the element sitting at the top of the stack. The
looked up element remains on the stack. Attempting to peek at an empty stack
yields undefined behavior.
.P
.I stack
is the stack.
.SS Generic Form
.P
.I output
is the start of an adequately-sized block of memory the peeked element shall
be copied into.
.I output
must not overlap in memory with the peeked element.
.SH RETURN VALUE
.SS Generic Form
If successful, the
.BR rnd_stack_peek ()
function shall return 0. Otherwise, it shall return a code indicating the
error.
.SS Suffixed Form
If successful, the suffixed
.BR rnd_stack_peek ()
functions shall return the value of the peeked element. Otherwise, they shall
return 0.
.SH ERRORS
.SS Generic Form
The
.BR rnd_stack_peek ()
function shall fail if:
.IP \fBRND_EINVAL\fP 1.5i
Either
.IR stack " or " output
are null pointers (debug mode only).
.IP \fBRND_EILLEGAL\fP 1.5i
.I stack
is empty (debug mode only).
.SS Suffixed Form
The suffixed
.BR rnd_stack_peek ()
functions shall fail if:
.IP 0 1.5i
.I stack
is a null pointer (debug mode only).
.IP 0 1.5i
.I stack
is empty (debug mode only).
.IP 0 1.5i
.IR stack "'s " elem_size
does not match the size of the function's return type (debug mode only).
.P
Note that 0 can also be a successful return value, since it is a number that can
be stored on the stack, like any other.
.SH CONFORMING TO
See
.BR librnd (7).
.SH NOTES
For practical reasons, functions of the suffixed form do not provide an
unambiguous error-detecting interface. This design choice was made because these
functions can only fail if the user misuses the library.
.P
This means there is a guaranteed uncertainty whenever a suffixed function
returns 0. However, failures can be told apart from successes depending on the
presence or absence of an error message (quiet mode needs to be disabled).
.SH SEE ALSO
.ad l
.BR librnd (7),
.BR rnd_stack (7),
.BR rnd_stack_create (3),
.BR rnd_stack_destroy (3),
.BR rnd_stack_clear (3),
.BR rnd_stack_copy (3),
.BR rnd_stack_map (3),
.BR rnd_stack_push (3),
.BR rnd_stack_insert (3),
.BR rnd_stack_quickinsert (3),
.BR rnd_stack_pop (3),
.BR rnd_stack_remove (3),
.BR rnd_stack_quickremove (3),
.BR rnd_stack_get (3),
.BR rnd_stack_set (3),
.BR rnd_stack_print (3)

